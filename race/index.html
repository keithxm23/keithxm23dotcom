<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
$(function () {
        $('#container').highcharts({
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Premier League Race To The Finish'
            },
            subtitle: {
                text: '-keithxm23'
            },
            xAxis: {
                categories: ['Liverpool', 'Chelsea', 'Man City',
                              'Arsenal', 'Everton', 'Tottenham',
                              'ManU','Southampton','Newcastle',
                              'Stoke','West Ham', 'Villa',
                              'Swansea','Hull','Norwich',
                              'Palace','West Brom','Cardiff',
                              'Sunderland','Fulham'],
                title: {
                    text: null
                }
            },
            yAxis: {
                min: 0,
                max: 75,
                title: {
                    text: 'Points',
                    align: 'high'
                },
                labels: {
                    overflow: 'justify'
                }
            },
            tooltip: {
                valueSuffix: ' points'
            },
            plotOptions: {
                bar: {
                    colorByPoint: true,
                    dataLabels: {
                        enabled: true
                    },
                    animation: false
                }
            },

            credits: {
                enabled: false
            },
            series: [{
                name: 'Points',
                data: [0, 0, 0,
                        0, 0, 0,
                        0, 0, 0,
                        0, 0, 0,
                        0, 0, 0,
                        0, 0, 0,
                        0, 0
                      ]
            }]
        });
    });
    </script>
  </head>
  <body>
<script src="js/highcharts.js"></script>
<script src="js/modules/exporting.js"></script>
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<button id="start">Start</button>
  </body>
  <script>

  var teamData = [
                  [3, 6, 9, 10, 10, 13, 16, 17, 20, 20, 23, 24, 24, 27, 30, 33, 36, 36, 36, 39, 42, 43, 46, 47, 50, 53, 56, 59, 62, 65, 68, 71],//Liverpool
                  [3, 6, 7, 7, 10, 11, 14, 17, 20, 20, 21, 24, 27, 30, 30, 33, 34, 37, 40, 43, 46, 49, 50, 53, 56, 57, 60, 63, 66, 66, 69, 69],//Chelsea
                  [3, 3, 6, 7, 10, 10, 13, 16, 16, 19, 19, 22, 25, 28, 29, 32, 35, 38, 41, 44, 47, 50, 53, 53, 54, 57, 60, 63, 66, 67],//ManCity
                  [0, 3, 6, 9, 12, 15, 16, 19, 22, 25, 25, 28, 31, 34, 35, 35, 36, 39, 42, 45, 48, 51, 52, 55, 55, 56, 59, 59, 62, 62, 63, 64],//Arsenal
                  [1, 2, 3, 6, 9, 12, 12, 15, 18, 19, 20, 21, 24, 27, 28, 31, 34, 34, 37, 38, 41, 42, 42, 45, 45, 45, 48, 51, 54, 57, 60],//Everton
                  [3, 6, 6, 9, 12, 13, 13, 16, 19, 20, 20, 20, 21, 24, 27, 27, 30, 31, 34, 37, 40, 43, 43, 44, 47, 50, 50, 53, 53, 53, 56, 56],//Spurs
                  [3, 4, 4, 7, 7, 7, 10, 11, 14, 17, 20, 21, 22, 22, 22, 25, 28, 31, 34, 34, 37, 37, 40, 40, 41, 42, 45, 48, 48, 51, 51, 54],//ManU
                  [3, 4, 4, 5, 8, 11, 14, 15, 18, 19, 22, 22, 22, 22, 23, 24, 24, 27, 27, 27, 30, 31, 32, 35, 36, 39, 39, 39, 42, 45, 45, 48],//Southampton
                  [0, 1, 4, 7, 7, 7, 10, 11, 11, 14, 17, 20, 23, 23, 26, 27, 30, 33, 33, 33, 33, 36, 37, 37, 37, 37, 40, 43, 43, 46, 46, 46],//NewCastle
                  [0, 3, 6, 7, 7, 7, 7, 8, 8, 9, 10, 13, 13, 14, 17, 18, 21, 21, 21, 22, 22, 22, 22, 25, 26, 27, 27, 30, 31, 34, 37, 40],//Stoke
                  [3, 4, 4, 5, 5, 5, 8, 8, 9, 10, 10, 10, 13, 13, 13, 14, 14, 14, 15, 15, 18, 18, 19, 22, 25, 28, 31, 31, 31, 31, 34, 37],//WestHam
                  [3, 3, 3, 3, 6, 9, 10, 10, 10, 11, 14, 15, 16, 19, 19, 19, 19, 19, 20, 23, 23, 24, 27, 27, 27, 28, 28, 31, 34, 34, 34],//Villa
                  [0, 0, 3, 4, 7, 7, 7, 10, 11, 11, 12, 15, 15, 18, 19, 20, 20, 20, 21, 21, 21, 21, 24, 24, 27, 28, 28, 29, 29, 29, 30, 33],//Swansea
                  [0, 3, 3, 4, 7, 10, 11, 11, 11, 14, 14, 14, 17, 17, 18, 19, 20, 20, 23, 23, 23, 23, 23, 24, 27, 27, 30, 30, 30, 33, 33, 33],//Hull
                  [1, 1, 4, 4, 4, 7, 7, 7, 8, 8, 11, 11, 14, 14, 17, 18, 19, 19, 19, 20, 20, 23, 24, 24, 25, 25, 28, 28, 29, 29, 32, 32],//Norwich
                  [0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 4, 7, 7, 10, 13, 13, 13, 16, 16, 17, 17, 20, 23, 23, 26, 26, 27, 27, 28, 28, 31],//Palace
                  [0, 1, 1, 2, 5, 8, 9, 10, 10, 13, 14, 15, 15, 15, 15, 15, 16, 17, 18, 21, 21, 22, 22, 23, 23, 24, 25, 25, 28, 28, 29],//WestBrom
                  [0, 3, 4, 5, 5, 8, 8, 8, 9, 12, 12, 13, 13, 14, 14, 17, 17, 17, 18, 18, 18, 18, 18, 21, 21, 22, 22, 22, 25, 25, 25, 26],//Cardiff
                  [0, 1, 1, 1, 1, 1, 1, 1, 4, 4, 7, 7, 8, 8, 8, 9, 10, 13, 14, 14, 17, 18, 21, 24, 24, 24, 25, 25, 25, 25],//Sunderland
                  [3, 3, 3, 4, 4, 4, 7, 10, 10, 10, 10, 10, 10, 10, 13, 13, 13, 16, 16, 19, 19, 19, 19, 19, 20, 20, 21, 21, 21, 24, 24, 24]//Fulham
                  ];

  function updateChart(){
    var chart = $("#container").highcharts();
    var gw=-1;
    (function nextWeek(){
      setTimeout(function(){
        if (gw++ < 32){

          var gameweekdata = [];
          for (var team=0;team<20;team++){
            try{
              gameweekdata.push(teamData[team][gw]);
            }
            catch(err){
              console.log('out of bounds');
              gameweekdata.push(teamData[team][teamData[team].length-1]);
            }
          }
          //console.log(gw);
          chart.series[0].setData(gameweekdata);
          chart.setTitle({text: "Gameweek "+(gw+1)});
          nextWeek();

        }
      }, 1500);
    })();

  }


  $(document).ready(function(){
    $("#start").click(function(){
      updateChart();
    });
  });

  </script>
</html>
